System.register(["./OrbitControls-legacy.1f04e8e4.js","./index-legacy.7b4e3796.js"],(function(e,n){"use strict";var t,o,a,i,s,r,l,c,h,d,A,f,w,u,g,p,m,b,R;return{setters:[e=>{t=e.h,o=e.F,a=e.ar,i=e.as,s=e.C,r=e.s,l=e.q,c=e.S,h=e.at,d=e.M,A=e.au,f=e.P,w=e.O,u=e.W,g=e.g},e=>{p=e.a,m=e.b,b=e.c,R=e.d}],execute:function(){class U extends t{constructor(e){super(e)}load(e,n,t,a){const i=this,s=new o(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(e){const t=i.parse(JSON.parse(e));n&&n(t)}),t,a)}parse(e){return new L(e)}}class L{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,n=100){const t=[],o=function(e,n,t){const o=Array.from(e),a=n/t.resolution,i=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*a,s=[];let r=0,l=0;for(let c=0;c<o.length;c++){const e=o[c];if("\n"===e)r=0,l-=i;else{const n=v(e,a,r,l,t);r+=n.offsetX,s.push(n.path)}}return s}(e,n,this.data);for(let a=0,i=o.length;a<i;a++)t.push(...o[a].toShapes());return t}}function v(e,n,t,o,i){const s=i.glyphs[e]||i.glyphs["?"];if(!s)return void console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".");const r=new a;let l,c,h,d,A,f,w,u;if(s.o){const e=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let a=0,i=e.length;a<i;)switch(e[a++]){case"m":l=e[a++]*n+t,c=e[a++]*n+o,r.moveTo(l,c);break;case"l":l=e[a++]*n+t,c=e[a++]*n+o,r.lineTo(l,c);break;case"q":h=e[a++]*n+t,d=e[a++]*n+o,A=e[a++]*n+t,f=e[a++]*n+o,r.quadraticCurveTo(A,f,h,d);break;case"b":h=e[a++]*n+t,d=e[a++]*n+o,A=e[a++]*n+t,f=e[a++]*n+o,w=e[a++]*n+t,u=e[a++]*n+o,r.bezierCurveTo(A,f,w,u,h,d)}}return{offsetX:s.ha*n,path:r}}class j extends i{constructor(e,n={}){const t=n.font;if(void 0===t)super();else{const o=t.generateShapes(e,n.size);n.depth=void 0!==n.height?n.height:50,void 0===n.bevelThickness&&(n.bevelThickness=10),void 0===n.bevelSize&&(n.bevelSize=8),void 0===n.bevelEnabled&&(n.bevelEnabled=!1),super(o,n)}this.type="TextGeometry"}}const x=[R("canvas",{class:"webgl"},null,-1)];e("default",{__name:"donut",setup:e=>(p((()=>{new URL(""+new URL("color.8bddf4c6.jpg",n.meta.url).href,self.location).href;const e=new URL(""+new URL("helvetiker_regular.typeface.d5c54676.json",n.meta.url).href,self.location).href;new URL(""+new URL("height.f095b2b9.jpg",n.meta.url).href,self.location).href,new URL(""+new URL("ambientOcclusion.9ebac441.jpg",n.meta.url).href,self.location).href,new URL(""+new URL("alpha.630f587e.jpg",n.meta.url).href,self.location).href,new URL(""+new URL("metalness.be88ad09.jpg",n.meta.url).href,self.location).href,new URL(""+new URL("normal.b4de8ab7.jpg",n.meta.url).href,self.location).href,new URL(""+new URL("roughness.a3deb372.jpg",n.meta.url).href,self.location).href;const t=new URL(""+new URL("7.b10f0207.png",n.meta.url).href,self.location).href;new URL(""+new URL("5.ab7b5715.jpg",n.meta.url).href,self.location).href,new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAACEUExURYyUnZKYoo6Vn36GkImRnIOLlgDe/5WbpJyhq4WNmH/4/3+HkYaOmXyDjqGnr52irKX8/+j+/6D8/4qSnIGJlHl/ipGXoZacpZmeqJSapIePmoCIk52jraestHqBjHuCjYKKlZOZo4uTnY+WoHd9iOf+/4SMl6KosO/8/5ugqn2Fj5+lrjRWI20AAAC/SURBVBjTFY9XbgNBDEM5s6qzvbn3xE67//0i/wgCSD6QAKOGAeq61xTP4mb9j1ne1gBcESoze+8dJlRYQBUJiTBUSrEuXJAyPI+qw2hBc2x0/piVbie019RA3/Q2UO5Q1eyGztkZUqkMEzcSiO0mJEy5OpRRuEI60P6L1HHH7Xe9NLAdtaWgTtb92R1nLDRGQOgcaeZdHMfwWuuGVxm/j5QQdaN9jJIrNblNMM2xznp8AkTv2XaJvrNm2Mke0H/3pAnMGVunewAAAABJRU5ErkJggg==",self.location).href,new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAQMAAAD+wSzIAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAGUExURf///wAAAFXC034AAAAPSURBVAjXY/jAAIH8EAgALgAD/Zpoe18AAAAASUVORK5CYII=",self.location).href;const o=new URL(""+new URL("px.1f013b51.jpg",n.meta.url).href,self.location).href,a=new URL(""+new URL("nx.3bb09a19.jpg",n.meta.url).href,self.location).href,i=new URL(""+new URL("py.4467b18b.jpg",n.meta.url).href,self.location).href,p=new URL(""+new URL("ny.7033c82f.jpg",n.meta.url).href,self.location).href,m=new URL(""+new URL("pz.c1662b92.jpg",n.meta.url).href,self.location).href,b=new URL(""+new URL("nz.f20dbad0.jpg",n.meta.url).href,self.location).href,R=(new s).load([o,a,i,p,m,b]);R.encoding=r;const L=(new l).load(t),v=document.querySelector("canvas.webgl"),x=new c;x.background=R;const y={width:window.innerWidth,height:window.innerHeight},S=new h({matcap:L});(new U).load(e,(e=>{const n=new j("Hello Portal",{font:e,size:.5,height:.2,curveSegments:12,bevelEnabled:!0,bevelThickness:.03,bevelSize:.02,bevelOffset:0,bevelSegment:5});n.center(),console.log("textGeometry",S);const t=new d(n,S);x.add(t)}));const E=new A(.3,.2,20,45),M=new h({matcap:L});console.time("donut");for(let n=0;n<400;n++){const e=new d(E,M);e.position.x=30*(Math.random()-.5),e.position.y=30*(Math.random()-.5),e.position.z=30*(Math.random()-.5),e.rotation.x=.5*Math.random()*Math.PI,e.rotation.y=.5*Math.random()*Math.PI;const n=Math.random();e.scale.set(n,n,n),x.add(e)}console.timeEnd("donut");const O=new f(75,y.width/y.height,.1,100);O.position.x=1,O.position.y=1,O.position.z=2,x.add(O);const k=new w(O,v);k.enableDamping=!0;const z=new u({canvas:v});z.setSize(y.width,y.height),z.setPixelRatio(Math.min(window.devicePixelRatio,2)),z.render(x,O),window.addEventListener("resize",(e=>{y.width=window.innerWidth,y.height=window.innerHeight,O.aspect=y.width/y.height,O.updateProjectionMatrix(),z.setSize(y.width,y.height),z.setPixelRatio(Math.min(window.devicePixelRatio,2))})),window.addEventListener("dblclick",(()=>{document.fullscreenElement?document.exitFullscreen():v.requestFullscreen()}));const B=new g,H=()=>{B.getElapsedTime(),k.update(),z.render(x,O),window.requestAnimationFrame(H)};H()})),(e,n)=>(m(),b("div",null,x)))})}}}));
