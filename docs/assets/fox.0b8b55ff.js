import{q as E,C as W,M as v,b as y,S as D,s as w,an as F,D as N,x as d,ao as q,c as O,P as K,O as V,W as X,ap as Y,f as Z,g as J}from"./OrbitControls.0aa6d8be.js";import{G as Q}from"./lil-gui.esm.7a5dd4ff.js";import{G as $}from"./GLTFLoader.3487e58d.js";import{o as ee,a as ne,b as te,c as oe,d as ae}from"./index.0281c40b.js";const ie=ae("canvas",{class:"webgl"},null,-1),re=[ie],me={__name:"fox",setup(se){let f={};return ee(()=>{f.destroy()}),ne(()=>{const h=new $,p=new E,_=new W,i=new Q;f=i;const m={};m.envMapIntensity=.4,i.add(m,"envMapIntensity").min(0).max(4).step(.001).onChange(()=>g());const u=document.querySelector("canvas.webgl"),g=()=>{a.traverse(e=>{e instanceof v&&e.material instanceof y&&(e.material.envMapIntensity=m.envMapIntensity,e.material.needsUpdate=!0,e.castShadow=!0,e.receiveShadow=!0)})},a=new D,k=new URL(""+new URL("px.a0e41bf9.jpg",import.meta.url).href,self.location).href,C=new URL(""+new URL("nx.57f73ba7.jpg",import.meta.url).href,self.location).href,S=new URL(""+new URL("py.7322f97e.jpg",import.meta.url).href,self.location).href,T=new URL(""+new URL("ny.d209a134.jpg",import.meta.url).href,self.location).href,j=new URL(""+new URL("pz.b0eb9498.jpg",import.meta.url).href,self.location).href,G=new URL(""+new URL("nz.fc946930.jpg",import.meta.url).href,self.location).href,L=_.load([k,C,S,T,j,G]);L.encoding=w,a.environment=L;let c=null;const P=new URL(""+new URL("Fox.92c71b40.glb",import.meta.url).href,self.location).href;h.load(P,e=>{e.scene.scale.set(.02,.02,.02),a.add(e.scene),c=new F(e.scene),c.clipAction(e.animations[1]).play(),g()});const t=new N("#ffffff",4);t.castShadow=!0,t.shadow.camera.far=15,t.shadow.mapSize.set(1024,1024),t.shadow.normalBias=.5,t.position.set(3.5,2,-1.25),a.add(t),i.add(t,"intensity").min(0).max(10).step(.001).name("lightIntensity"),i.add(t.position,"x").min(-5).max(5).step(.001).name("lightX"),i.add(t.position,"y").min(-5).max(5).step(.001).name("lightY"),i.add(t.position,"z").min(-5).max(5).step(.001).name("lightZ");const z=new URL(""+new URL("Rock048_4K_Color.7391cbad.jpg",import.meta.url).href,self.location).href,H=new URL(""+new URL("Rock048_4K_NormalGL.224a6864.jpg",import.meta.url).href,self.location).href,s=p.load(z),l=p.load(H);s.encoding=w,s.repeat.set(2.5,2.5),s.wrapS=d,s.wrapT=d,l.repeat.set(2.5,2.5),l.wrapS=d,l.wrapT=d;const I=new q(5,64),A=new y({map:s,normalMap:l,side:O}),x=new v(I,A);x.rotation.x=-.5*Math.PI,a.add(x);const o={width:window.innerWidth,height:window.innerHeight};window.addEventListener("resize",()=>{o.width=window.innerWidth,o.height=window.innerHeight,r.aspect=o.width/o.height,r.updateProjectionMatrix(),n.setSize(o.width,o.height),n.setPixelRatio(Math.min(window.devicePixelRatio,2))});const r=new K(35,o.width/o.height,.1,100);r.position.set(6,4,8),a.add(r);const M=new V(r,u);M.enableDamping=!0;const n=new X({canvas:u,antialias:!0});n.physicallyCorrectLights=!0,n.outputEncoding=w,n.shadowMap.enabled=!0,n.shadowMap.type=Y,n.toneMapping=Z,n.toneMappingExposure=1.75,n.setClearColor("#211d20"),n.setSize(o.width,o.height),n.setPixelRatio(Math.min(window.devicePixelRatio,2));const B=new J;let R=0;const U=()=>{const e=B.getElapsedTime(),b=e-R;R=e,M.update(),c&&c.update(b),n.render(a,r),window.requestAnimationFrame(U)};U()}),(h,p)=>(te(),oe("div",null,re))}};export{me as default};
